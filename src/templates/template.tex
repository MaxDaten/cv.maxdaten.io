%-------------------------
% Professional CV Template
% Design: Precision & Density - information-forward, scannable
% Based on design principles: 4px grid, typography hierarchy, color for meaning
%------------------------

% Document class and font size
\documentclass[a4paper,9pt]{extarticle}

% Packages
\usepackage[T1]{fontenc}
\usepackage{geometry}
\usepackage{titlesec}
\usepackage{enumitem}
\usepackage{hyperref}
\usepackage{parskip}
\usepackage{xcolor}
\usepackage{microtype} % Better typography

% --------------------------------------------------------------------------
% Colors - 4-level contrast hierarchy
% --------------------------------------------------------------------------
\definecolor{accent}{HTML}{D97706}      % Brand orange for links/highlights
\definecolor{secondary}{gray}{0.35}     % Secondary text (roles, descriptions)
\definecolor{muted}{gray}{0.50}         % Muted text (dates, labels)
\definecolor{faint}{gray}{0.65}         % Faint text (subtle info)
\definecolor{tagbg}{gray}{0.93}         % Technology tag background
\definecolor{tagborder}{gray}{0.85}     % Technology tag border
\definecolor{rule}{gray}{0.80}          % Section rule color

% --------------------------------------------------------------------------
% Page geometry - Balanced margins (not too tight)
% --------------------------------------------------------------------------
\geometry{
  a4paper,
  top=1.2cm,
  bottom=1.2cm,
  left=1.5cm,
  right=1.5cm
}

% --------------------------------------------------------------------------
% Typography - XCharter for readability
% --------------------------------------------------------------------------
\usepackage{XCharter}

% --------------------------------------------------------------------------
% Technology tags - Light gray boxes with subtle border
% \strut = consistent box height, larger raisebox dims for row spacing
% --------------------------------------------------------------------------
\setlength{\fboxsep}{2pt}
\setlength{\fboxrule}{0.3pt}
\let\oldtexttt\texttt
\renewcommand{\texttt}[1]{%
  \raisebox{0pt}[1.1\baselineskip][0.4\baselineskip]{\fcolorbox{tagborder}{tagbg}{\strut\oldtexttt{\small #1}}}\hspace{0.15em}%
}

% --------------------------------------------------------------------------
% Emphasized text (role titles) - Secondary color, not italic
% --------------------------------------------------------------------------
\let\oldemph\emph
\renewcommand{\emph}[1]{{\color{secondary}#1}}

% --------------------------------------------------------------------------
% Lists - Tight spacing, accent-colored bullets
% Bullet: smaller, closer to text, vertically centered
% --------------------------------------------------------------------------
\setlist{noitemsep, topsep=1pt, partopsep=0pt, parsep=0pt}
\setlist[itemize]{
  leftmargin=1.5em,
  labelsep=0.5em,
  label={\textcolor{accent}{\raisebox{0.1ex}{\small\textbullet}}},
  itemsep=1pt
}

% --------------------------------------------------------------------------
% Section titles (h1) - Bold with subtle underline
% --------------------------------------------------------------------------
\titleformat{\section}
  {\large\bfseries}
  {}
  {0pt}
  {}
  [\vspace{2pt}{\color{rule}\hrule height 0.4pt}]
\titlespacing*{\section}{0pt}{16pt}{8pt}

% --------------------------------------------------------------------------
% Subsection titles (h2) - Company names, prominent
% --------------------------------------------------------------------------
\titleformat{\subsection}
  {\normalsize\bfseries}
  {}
  {0pt}
  {}
\titlespacing*{\subsection}{0pt}{12pt}{2pt}

% --------------------------------------------------------------------------
% Subsubsection titles (h3) - "Technologies" label, subtle
% --------------------------------------------------------------------------
\titleformat{\subsubsection}
  {\small\color{muted}}
  {}
  {0pt}
  {}
\titlespacing*{\subsubsection}{0pt}{6pt}{2pt}

% --------------------------------------------------------------------------
% Hyperlinks - Brand accent color
% --------------------------------------------------------------------------
\hypersetup{
  colorlinks=true,
  linkcolor=accent,
  filecolor=accent,
  citecolor=accent,
  urlcolor=accent,
  pdfcreator={LaTeX via pandoc}
}

% --------------------------------------------------------------------------
% Graphics (conditional)
% --------------------------------------------------------------------------
$if(graphics)$
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
\makeatletter
\def\fps@figure{htbp}
\makeatother
$endif$

% --------------------------------------------------------------------------
% Misc settings
% --------------------------------------------------------------------------
\setlength{\emergencystretch}{3em}
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{-\maxdimen}

% --------------------------------------------------------------------------
% Begin Document
% --------------------------------------------------------------------------
\begin{document}
\pagestyle{empty}

% PDF metadata
$if(title-meta)$
\hypersetup{pdftitle={$title-meta$}}
$endif$
$if(author-meta)$
\hypersetup{pdfauthor={$author-meta$}}
$endif$
$if(lang)$
\hypersetup{pdflang={$lang$}}
$endif$

% --------------------------------------------------------------------------
% Header - Strong name hierarchy with accent underline
% --------------------------------------------------------------------------
\begin{center}
{\LARGE\bfseries $title-meta$}\\[2pt]
{\color{accent}\rule{40pt}{2pt}}\\[6pt]
{\normalsize\color{muted} $subtitle$}\\[4pt]
{\small $contact$}
\end{center}

\vspace{2pt}

% --------------------------------------------------------------------------
% Body
% --------------------------------------------------------------------------
$body$

\end{document}
